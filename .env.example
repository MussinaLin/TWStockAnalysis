# ===========================================
# Alpha 選股條件說明
# ===========================================
#
# 選股邏輯：
#   1. 必要條件：
#      - cond_insti 必須成立
#      - cond_vol_ma10 或 cond_vol_ma20 其一成立
#   2. 選配條件（至少 2 個成立）：
#      - cond_rsi, cond_macd, cond_bb_narrow, cond_bb_near_upper
#
# -------------------------------------------
# 必要條件
# -------------------------------------------
#
# cond_insti（法人加碼）
#    - 近 N 日法人淨買超合計 > 0
#    - 近 N 日平均淨買超 > 近 M 日平均淨買超
#    - 參數：ALPHA_INSTI_DAYS_SHORT (N), ALPHA_INSTI_DAYS_LONG (M)
#
# cond_vol_ma10（量突破 10MA）
#    - 當天成交量 > 10 日平均成交量 × N 倍
#    - 參數：VOL_BREAKOUT_RATIO (N)
#
# cond_vol_ma20（量突破 20MA）
#    - 當天成交量 > 20 日平均成交量 × N 倍
#    - 參數：VOL_BREAKOUT_RATIO (N)
#
# -------------------------------------------
# 選配條件（至少滿足 2 個）
# -------------------------------------------
#
# cond_rsi（RSI 健康）
#    - RSI(14) 介於設定區間內
#    - 參數：ALPHA_RSI_MIN, ALPHA_RSI_MAX
#
# cond_macd（MACD 多方）
#    - MACD histogram > 設定值
#    - 參數：ALPHA_MACD_HIST_MIN
#
# cond_bb_narrow（布林收窄）
#    - 近期 bandwidth 平均 < 長期 bandwidth 平均
#    - 參數：BB_NARROW_SHORT_DAYS, BB_NARROW_LONG_DAYS
#
# cond_bb_near_upper（接近布林上軌）
#    - %B > 設定值（%B 越接近 1 表示越靠近上軌）
#    - 參數：BB_PERCENT_B_MIN
#
# ===========================================

# ===========================================
# 股票清單（必填）
# ===========================================
# 逗號分隔的股票代號，程式會抓取這些股票的資料
STOCKS=2330,2317,2454,3017,8299

# ===========================================
# MACD 技術指標參數
# ===========================================
# 快線 EMA 天數（預設 12）
MACD_FAST=8
# 慢線 EMA 天數（預設 26）
MACD_SLOW=17
# 訊號線 EMA 天數（預設 9）
MACD_SIGNAL=9

# ===========================================
# 布林通道參數
# ===========================================
# 布林通道計算週期（中軌 SMA 天數，預設 20）
BB_PERIOD=20
# 布林收窄條件：近期 bandwidth 平均天數（預設 5）
BB_NARROW_SHORT_DAYS=5
# 布林收窄條件：長期 bandwidth 平均天數（預設 20）
BB_NARROW_LONG_DAYS=20
# 接近上軌條件：%B 最小值（預設 0.75，範圍 0-1，1=上軌，0=下軌）
BB_PERCENT_B_MIN=0.75

# ===========================================
# Alpha 選股條件門檻
# ===========================================
# 量突破倍數（當天成交量 > N日均量 × 此倍數，預設 1.5）
VOL_BREAKOUT_RATIO=1.5
# RSI 健康區間下限（低於此值視為超賣）
ALPHA_RSI_MIN=40
# RSI 健康區間上限（高於此值視為超買）
ALPHA_RSI_MAX=70
# MACD histogram 最小值（> 0 表示多方動能）
ALPHA_MACD_HIST_MIN=0
# 法人加碼條件：近期天數（計算近 N 日淨買超）
ALPHA_INSTI_DAYS_SHORT=15
# 法人加碼條件：長期天數（與近期比較的基準）
ALPHA_INSTI_DAYS_LONG=30

# ===========================================
# 融資融券欄位說明
# ===========================================
#
# 自動新增至 tw_stock_daily.xlsx 的融資融券欄位：
#
# | 欄位名稱 | 類型 | 單位 | 說明 |
# |---------|------|------|------|
# | margin_buy | int | 張 | 融資買進 |
# | margin_sell | int | 張 | 融資賣出 |
# | margin_balance | int | 張 | 融資餘額 |
# | margin_change | int | 張 | 融資增減（買進-賣出-現金償還）|
# | short_sell | int | 張 | 融券賣出 |
# | short_buy | int | 張 | 融券回補 |
# | short_balance | int | 張 | 融券餘額 |
# | short_change | int | 張 | 融券增減（賣出-回補-現券償還）|
# | short_margin_ratio | float | % | 券資比（融券餘額/融資餘額×100）|
#
# 資料來源：
#   - 當日數據：TWSE OpenAPI (MI_MARGN) + TPEX OpenAPI
#   - 歷史回補：MoneyDJ（個股查詢）
#

# ===========================================
# Sell 賣出警示條件
# ===========================================
#
# 賣出邏輯：任一條件成立即列入警示
#
# 條件說明：
#   - cond_foreign_sell: 外資近 N 日淨賣超合計 < 0
#   - cond_foreign_accel: 外資賣超加速（近 N 日均 < 0 且 < 近 M 日均）
#   - cond_trust_sell: 投信近 N 日淨賣超合計 < 0
#   - cond_trust_accel: 投信賣超加速（近 N 日均 < 0 且 < 近 M 日均）
#   - cond_high_black: 高檔爆量長黑
#   - cond_price_up_vol_down: 價漲量縮
#   - cond_rsi_overbought: RSI 超買
#   - cond_rsi_divergence: RSI 背離
#   - cond_macd_turn_neg: MACD 柱由正轉負
#   - cond_macd_divergence: MACD 背離
#   - cond_bb_below: 跌破布林中軌
#   - cond_macd_death_cross: MACD 高檔死亡交叉
#   - cond_margin_surge: 融資餘額爆升（今日融資餘額 > 昨日 × (1 + N%)）
#
# -------------------------------------------
# 法人賣超條件
# -------------------------------------------
# 近期天數（計算近 N 日淨賣超）
SELL_INSTI_DAYS_SHORT=15
# 長期天數（與近期比較的基準）
SELL_INSTI_DAYS_LONG=30
#
# -------------------------------------------
# K線型態條件
# -------------------------------------------
# 高檔爆量長黑：(最高價-收盤價) > 最高價 × N%（預設 5%）
SELL_HIGH_BLACK_RATIO=0.05
#
# -------------------------------------------
# 量價背離條件
# -------------------------------------------
# 價漲量縮判斷天數：收盤創 N 天新高（預設 10）
SELL_PRICE_HIGH_DAYS=10
# 價漲量縮：成交量 < 均量 × N 倍（預設 0.7）
SELL_VOLUME_SHRINK_RATIO=0.7
#
# -------------------------------------------
# 技術指標條件
# -------------------------------------------
# RSI 超買門檻（預設 80）
SELL_RSI_OVERBOUGHT=80
# 布林跌破中軌：%B < N（預設 0.5，即跌破中軌）
SELL_BB_PERCENT_B_MAX=0.5
#
# -------------------------------------------
# 融資條件
# -------------------------------------------
# 融資餘額爆升：今日融資餘額 > 昨日 × (1 + N%)（預設 0.05，即 5%）
SELL_MARGIN_SURGE_RATIO=0.05
